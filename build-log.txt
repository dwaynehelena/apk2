[1m[0;34m================================================[0m
[1m[0;34m     APK Build Script - Boot Error Fixes[0m
[1m[0;34m================================================[0m

Wed Jan 21 14:55:43 AEDT 2026

[1m[0;34m>>> Step 1: Validating Environment[0m
[0;32mâœ“[0m node found
[0;32mâœ“[0m npm found
[0;32mâœ“[0m java found
[0;32mâœ“[0m Node.js: v25.2.1
[0;32mâœ“[0m Java: The operation couldnâ€™t be completed. Unable to locate a Java Runtime.

[1m[0;34m>>> Step 2: Running Fix Validation[0m

[1m[94m============================================================[0m
[1m[94mBoot Log Error Fixes - Validation Script[0m
[1m[94m============================================================[0m


[1m[94m============================================================[0m
[1m[94m1. AIDL Interface Fix[0m
[1m[94m============================================================[0m

[92mâœ“[0m CarServiceAidl interface found in possibleInterfaces array
[92mâœ“[0m CarServiceAidl is the FIRST entry (highest priority)

[1m[94m============================================================[0m
[1m[94m2. Permissions Check[0m
[1m[94m============================================================[0m


[1mStorage Permissions:[0m
[92mâœ“[0m READ_EXTERNAL_STORAGE
[92mâœ“[0m WRITE_EXTERNAL_STORAGE
[92mâœ“[0m MANAGE_EXTERNAL_STORAGE

[1mBluetooth Permissions:[0m
[92mâœ“[0m BLUETOOTH
[92mâœ“[0m BLUETOOTH_ADMIN
[92mâœ“[0m BLUETOOTH_CONNECT
[92mâœ“[0m BLUETOOTH_SCAN

[1mSystem Permissions:[0m
[92mâœ“[0m SYSTEM_ALERT_WINDOW
[92mâœ“[0m BIND_DEVICE_ADMIN

[1mCANbus Custom Permissions:[0m
[92mâœ“[0m com.tw.carinfoservice.permission.ACCESS_CANBUS
[92mâœ“[0m com.tw.car.permission.ACCESS_SERVICE

[92m[1mAll permissions added successfully![0m

[1m[94m============================================================[0m
[1m[94m3. Transaction Mapping[0m
[1m[94m============================================================[0m

[92mâœ“[0m TX=3 â†’ Speed
[92mâœ“[0m TX=4 â†’ Voltage
[92mâœ“[0m TX=5 â†’ RPM=0 Detection
[92mâœ“[0m TX=7,8 â†’ Door/Climate Status
[92mâœ“[0m TX=9 â†’ Coolant Temp
[92mâœ“[0m TX=10 â†’ Oil Temp
[92mâœ“[0m TX=18 â†’ Gear Position
[92mâœ“[0m TX=20 â†’ Body Status
[92mâœ“[0m Transaction code documentation found

[1m[94m============================================================[0m
[1m[94m4. Native CANbus Fallback[0m
[1m[94m============================================================[0m

[92mâœ“[0m Native fallback mode flag
[92mâœ“[0m Native fallback initialization
[92mâœ“[0m Native fallback status method
[92mâœ“[0m Connection status method
[92mâœ“[0m Native mode in scanForFaults
[92mâœ“[0m AIDL active detection implemented

[1m[94m============================================================[0m
[1m[94m5. Build Environment Check[0m
[1m[94m============================================================[0m

[92mâœ“[0m Node.js installed: v25.2.1
[92mâœ“[0m npm installed: 11.6.2
[92mâœ“[0m package.json found
[92mâœ“[0m Capacitor installed: 8.0.0
[92mâœ“[0m Android directory found
[92mâœ“[0m gradlew found

[1m[94m============================================================[0m
[1m[94mValidation Report[0m
[1m[94m============================================================[0m

[1mFix                            Status         [0m
---------------------------------------------
1. AIDL Interface              [92mâœ“ PASS[0m
2. Permissions                 [92mâœ“ PASS[0m
3. Transaction Mapping         [92mâœ“ PASS[0m
4. Native Fallback             [92mâœ“ PASS[0m

---------------------------------------------

[92m[1mâœ“ ALL FIXES VALIDATED SUCCESSFULLY![0m
[92mReady to build and deploy.[0m

[94mâ„¹[0m Detailed report saved to: /Users/helenadw/Documents/GitHub/apk2/validation-report.json
[94mâ„¹[0m Next steps:
  1. Run: npm run build
  2. Run: npx cap sync android
  3. Run: cd android && ./gradlew assembleDebug
  4. Install APK on headset
[0;32mâœ“[0m All fixes validated successfully

[1m[0;34m>>> Step 3: Cleaning Previous Build[0m
[0;32mâœ“[0m No previous build found

[1m[0;34m>>> Step 4: Installing Dependencies[0m
[0;32mâœ“[0m node_modules found, skipping npm install

[1m[0;34m>>> Step 5: Building Web Assets[0m

> apk@3.4.91 build
> vite build

vite v7.3.0 building client environment for production...
transforming...
âœ“ 27 modules transformed.
rendering chunks...
computing gzip size...
../www/index.html                           0.68 kB â”‚ gzip:  0.39 kB
../www/assets/index-BPFhQ0dd.css            7.17 kB â”‚ gzip:  2.06 kB
../www/assets/web-1BA4kF2Q.js               0.16 kB â”‚ gzip:  0.16 kB â”‚ map:   0.56 kB
../www/assets/PerformanceTab-CpgsBQfV.js    3.05 kB â”‚ gzip:  0.96 kB â”‚ map:   6.67 kB
../www/assets/OffroadTab--QjFh3Q4.js        3.05 kB â”‚ gzip:  0.89 kB â”‚ map:   5.43 kB
../www/assets/DiagnosticsTab-CmUNmoLK.js    7.45 kB â”‚ gzip:  2.09 kB â”‚ map:  10.96 kB
../www/assets/DeepDiagnostics-tQOokGgz.js   7.52 kB â”‚ gzip:  2.68 kB â”‚ map:  15.90 kB
../www/assets/index-BCZROD_s.js            67.94 kB â”‚ gzip: 19.37 kB â”‚ map: 200.18 kB
âœ“ built in 517ms
[0;32mâœ“[0m Web assets built successfully

[1m[0;34m>>> Step 6: Syncing Capacitor to Android[0m
âœ” Copying web assets from www to android/app/src/main/assets/public in 20.28ms
âœ” Creating capacitor.config.json in android/app/src/main/assets in 821.58Î¼s
âœ” copy android in 47.72ms
âœ” Updating Android plugins in 7.29ms
[info] Found 1 Capacitor plugin for android:
       @capacitor/splash-screen@8.0.0
âœ” update android in 53.49ms
[info] Sync finished in 0.144s
[0;32mâœ“[0m Capacitor sync completed

[1m[0;34m>>> Step 7: Verifying Java Files[0m
[0;32mâœ“[0m TwahhPlugin.java contains AIDL fix

[1m[0;34m>>> Step 8: Building Android APK (Debug)[0m
The operation couldnâ€™t be completed. Unable to locate a Java Runtime.
Please visit http://www.java.com for information on installing Java.

